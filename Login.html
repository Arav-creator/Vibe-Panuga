<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login ‚Ä¢ Vibe Panunga üéß</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  height:100vh;
  font-family:Poppins, sans-serif;
  background:linear-gradient(135deg,#000,#1a1a1a);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
}

.login-box{
  width:360px;
  background:#151515;
  border-radius:18px;
  padding:30px;
  box-shadow:0 0 40px rgba(255,106,0,.25);
  animation:fade 0.8s ease;
}

@keyframes fade{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

.logo{
  text-align:center;
  margin-bottom:20px;
}

.logo img{
  width:130px;
}

h2{
  text-align:center;
  margin-bottom:5px;
}

p{
  text-align:center;
  font-size:13px;
  color:#aaa;
  margin-bottom:25px;
}

.input{
  width:100%;
  padding:12px;
  margin-bottom:14px;
  border-radius:10px;
  border:1px solid #333;
  background:#0f0f0f;
  color:#fff;
  font-size:14px;
}

.input:focus{
  outline:none;
  border-color:#ff6a00;
}

.btn{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  background:#ff6a00;
  color:#fff;
  font-size:15px;
  cursor:pointer;
  font-weight:600;
  transition:.3s;
}

.btn:hover{
  background:#ff8c42;
  box-shadow:0 0 15px rgba(255,106,0,.7);
}

.toggle{
  margin-top:16px;
  text-align:center;
  font-size:13px;
  color:#aaa;
  cursor:pointer;
}

.toggle span{
  color:#ff6a00;
  font-weight:600;
}
</style>
</head>

<body>

<div class="login-box">
  <div class="logo">
    <img src="Vibe panuga.png">
  </div>

  <h2 id="title">Login</h2>
  <p id="subtitle">Welcome back to Vibe Panunga</p>

  <input class="input" id="username" placeholder="Username">
  <input class="input" id="password" type="password" placeholder="Password">

  <button class="btn" onclick="submit()">Continue</button>

  <div class="toggle" onclick="toggleMode()">
    New user? <span id="toggleText">Create account</span>
  </div>
</div>

<script>
let isSignup = false;
let db;

const req = indexedDB.open("VibeAuthDB",1);

req.onupgradeneeded = e=>{
  db = e.target.result;
  db.createObjectStore("users",{keyPath:"username"});
};

req.onsuccess = e=> db = e.target.result;

function toggleMode(){
  isSignup = !isSignup;
  document.getElementById("title").textContent = isSignup?"Sign Up":"Login";
  document.getElementById("subtitle").textContent =
    isSignup?"Create your Vibe account":"Welcome back to Vibe Panunga";
  document.getElementById("toggleText").textContent =
    isSignup?"Login instead":"Create account";
}

function submit(){
  const user = username.value.trim();
  const pass = password.value.trim();
  if(!user || !pass) return alert("Fill all fields");

  const tx = db.transaction("users","readwrite");
  const store = tx.objectStore("users");

  if(isSignup){
    store.get(user).onsuccess = e=>{
      if(e.target.result) return alert("User already exists");
      store.add({username:user,password:pass});
      alert("Account created üéâ");
      toggleMode();
    };
  }else{
    store.get(user).onsuccess = e=>{
      const data = e.target.result;
      if(!data || data.password!==pass)
        return alert("Invalid login ‚ùå");
      localStorage.setItem("loggedInUser", user);
      window.location.href = "index.html";


    };
  }
}
</script>

</body>
</html>
